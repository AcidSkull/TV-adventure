[gd_scene load_steps=26 format=2]

[ext_resource path="res://Scenes/Player.tscn" type="PackedScene" id=1]
[ext_resource path="res://Scenes/Environment/Environment.tscn" type="PackedScene" id=2]
[ext_resource path="res://Scenes/Collectibles/Coin.tscn" type="PackedScene" id=3]
[ext_resource path="res://Scenes/Collectibles/HealthPoint.tscn" type="PackedScene" id=4]
[ext_resource path="res://Scripts/Camera2D.gd" type="Script" id=5]
[ext_resource path="res://Scenes/Mechanics/Music.tscn" type="PackedScene" id=6]
[ext_resource path="res://Scenes/Mechanics/HUD.tscn" type="PackedScene" id=7]
[ext_resource path="res://Scripts/HUD.gd" type="Script" id=8]
[ext_resource path="res://Scenes/Traps/spikes.tscn" type="PackedScene" id=9]
[ext_resource path="res://Scenes/Enemies/Tractor.tscn" type="PackedScene" id=10]
[ext_resource path="res://Scenes/Mechanics/CollisionBox.tscn" type="PackedScene" id=11]
[ext_resource path="res://Scenes/Enemies/Dron.tscn" type="PackedScene" id=12]
[ext_resource path="res://Scripts/Enemies/Enemies.gd" type="Script" id=13]
[ext_resource path="res://Scenes/Effects/Explosion.tscn" type="PackedScene" id=14]
[ext_resource path="res://Assets/Textures/Prallax/parallax_background_1.png" type="Texture" id=15]
[ext_resource path="res://Assets/Textures/Prallax/parallax_background_5.png" type="Texture" id=16]
[ext_resource path="res://Assets/Textures/Prallax/parallax_background_2.png" type="Texture" id=17]
[ext_resource path="res://Assets/Textures/Prallax/parallax_background_3.png" type="Texture" id=18]
[ext_resource path="res://Assets/Textures/Prallax/parallax_background_4.png" type="Texture" id=19]
[ext_resource path="res://Scenes/Environment/WoodenPlatform.tscn" type="PackedScene" id=20]
[ext_resource path="res://Scenes/Enemies/Turret.tscn" type="PackedScene" id=21]
[ext_resource path="res://Scenes/Environment/MovingPlatfrom.tscn" type="PackedScene" id=22]

[sub_resource type="Curve2D" id=1]
_data = {
"points": PoolVector2Array( 0, 0, 0, 0, -86, 1, 0, 0, 0, 0, -39, -51, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, -55, 33, 0, 0, 0, 0, -86, 0 )
}

[sub_resource type="Animation" id=2]
resource_name = "Fly"
length = 2.0
loop = true
tracks/0/type = "value"
tracks/0/path = NodePath("Path2D/PathFollow2D:unit_offset")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/keys = {
"times": PoolRealArray( 0, 1 ),
"transitions": PoolRealArray( 1, 1 ),
"update": 0,
"values": [ 0.0, 1.0 ]
}

[sub_resource type="Animation" id=3]
length = 0.001
tracks/0/type = "value"
tracks/0/path = NodePath("Path2D/PathFollow2D:unit_offset")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/keys = {
"times": PoolRealArray( 0 ),
"transitions": PoolRealArray( 1 ),
"update": 0,
"values": [ 0.0 ]
}

[node name="Level1" type="Node"]

[node name="ParallaxBackground" type="ParallaxBackground" parent="."]

[node name="ParallaxLayer" type="ParallaxLayer" parent="ParallaxBackground"]
visible = false
motion_scale = Vector2( 0.1, 1 )
motion_mirroring = Vector2( 304, 0 )

[node name="Sprite" type="Sprite" parent="ParallaxBackground/ParallaxLayer"]
position = Vector2( 0, 54 )
texture = ExtResource( 15 )

[node name="ParallaxLayer2" type="ParallaxLayer" parent="ParallaxBackground"]
visible = false
motion_scale = Vector2( 0.2, 1 )
motion_mirroring = Vector2( 304, 0 )

[node name="Sprite" type="Sprite" parent="ParallaxBackground/ParallaxLayer2"]
position = Vector2( 0, 52 )
texture = ExtResource( 17 )

[node name="ParallaxLayer3" type="ParallaxLayer" parent="ParallaxBackground"]
visible = false
motion_scale = Vector2( 0.3, 1 )
motion_mirroring = Vector2( 304, 0 )

[node name="Sprite" type="Sprite" parent="ParallaxBackground/ParallaxLayer3"]
position = Vector2( -1, 52 )
texture = ExtResource( 18 )

[node name="ParallaxLayer4" type="ParallaxLayer" parent="ParallaxBackground"]
visible = false
motion_scale = Vector2( 0.4, 1 )
motion_mirroring = Vector2( 304, 0 )

[node name="Sprite" type="Sprite" parent="ParallaxBackground/ParallaxLayer4"]
position = Vector2( -3, 54 )
texture = ExtResource( 19 )

[node name="ParallaxLayer5" type="ParallaxLayer" parent="ParallaxBackground"]
visible = false
motion_scale = Vector2( 0.4, 1 )
motion_mirroring = Vector2( 304, 0 )

[node name="Sprite" type="Sprite" parent="ParallaxBackground/ParallaxLayer5"]
position = Vector2( 0, 52 )
texture = ExtResource( 16 )

[node name="Player" parent="." instance=ExtResource( 1 )]
position = Vector2( 139, 85 )

[node name="Camera2D" type="Camera2D" parent="."]
position = Vector2( 152, 93 )
current = true
script = ExtResource( 5 )

[node name="HUD" parent="." instance=ExtResource( 7 )]
offset = Vector2( 1, 1 )
transform = Transform2D( 1, 0, 0, 1, 1, 1 )
script = ExtResource( 8 )

[node name="Environment" parent="." instance=ExtResource( 2 )]
collision_mask = 8
tile_data = PoolIntArray( 65535, 1, 0, 31, 1, 0, 131071, 1, 0, 65567, 1, 0, 196607, 1, 0, 131103, 1, 0, 262143, 1, 0, 196614, 3, 0, 196615, 3, 1, 196616, 3, 1, 196617, 3, 2, 196639, 1, 0, 327679, 1, 0, 262175, 1, 0, 393215, 1, 0, 327685, 8, 0, 327693, 3, 0, 327694, 3, 1, 327695, 3, 1, 327696, 3, 2, 327711, 1, 0, 458751, 1, 0, 393221, 8, 65536, 393223, 3, 0, 393224, 3, 1, 393225, 3, 2, 393235, 3, 0, 393236, 3, 1, 393237, 3, 1, 393238, 3, 2, 393247, 1, 0, 524287, 5, 0, 458757, 8, 131072, 458780, 5, 0, 458781, 2, 0, 458783, 1, 0, 589823, 1, 0, 524288, 4, 0, 524289, 4, 0, 524290, 4, 0, 524291, 4, 0, 524292, 4, 0, 524293, 4, 0, 524294, 4, 0, 524295, 4, 0, 524296, 4, 0, 524297, 4, 0, 524298, 4, 0, 524299, 4, 0, 524300, 4, 0, 524301, 4, 0, 524302, 4, 0, 524303, 4, 0, 524304, 4, 0, 524305, 4, 0, 524306, 4, 0, 524307, 4, 0, 524308, 4, 0, 524309, 4, 0, 524310, 4, 0, 524311, 4, 0, 524312, 4, 0, 524313, 4, 0, 524314, 4, 0, 524315, 4, 0, 524316, 5, 0, 524317, 4, 0, 524318, 4, 0, 524319, 4, 0, 524320, 4, 0, 524321, 4, 0, 524322, 4, 0, 524323, 4, 0, 524324, 4, 0, 524325, 4, 0, 524326, 4, 0, 524327, 4, 0, 524328, 4, 0, 524329, 4, 0, 524330, 4, 0, 524331, 4, 0, 524332, 4, 0, 524333, 4, 0, 524334, 4, 0, 524335, 4, 0, 524336, 4, 0, 524337, 4, 0, 524338, 4, 0, 524339, 4, 0, 524340, 4, 0, 524341, 4, 0, 524342, 4, 0, 655359, 1, 0, 589824, 5, 0, 589825, 5, 0, 589826, 5, 0, 589827, 5, 0, 589828, 5, 0, 589829, 5, 0, 589830, 5, 0, 589831, 5, 0, 589832, 5, 0, 589833, 5, 0, 589834, 5, 0, 589835, 5, 0, 589836, 5, 0, 589837, 5, 0, 589838, 5, 0, 589839, 5, 0, 589840, 5, 0, 589841, 5, 0, 589842, 5, 0, 589843, 5, 0, 589844, 5, 0, 589845, 5, 0, 589846, 5, 0, 589847, 5, 0, 589848, 5, 0, 589849, 5, 0, 589850, 5, 0, 589851, 5, 0, 589852, 5, 0, 589853, 5, 0, 589854, 5, 0, 589855, 5, 0, 589856, 5, 0, 589857, 5, 0, 589858, 5, 0, 589859, 5, 0, 589860, 5, 0, 589861, 5, 0, 589862, 5, 0, 589863, 5, 0, 589864, 5, 0, 589865, 5, 0, 589866, 5, 0, 589867, 5, 0, 589868, 5, 0, 589869, 5, 0, 589870, 5, 0, 589871, 5, 0, 589872, 5, 0, 589873, 5, 0, 589874, 5, 0, 589875, 5, 0, 589876, 5, 0, 589877, 5, 0, 589878, 5, 0, 720895, 1, 0, 655360, 5, 0, 655361, 5, 0, 655362, 5, 0, 655363, 5, 0, 655364, 5, 0, 655365, 5, 0, 655366, 5, 0, 655367, 5, 0, 655368, 5, 0, 655369, 5, 0, 655370, 5, 0, 655371, 5, 0, 655372, 5, 0, 655373, 5, 0, 655374, 5, 0, 655375, 5, 0, 655376, 5, 0, 655377, 5, 0, 655378, 5, 0, 655379, 5, 0, 655380, 5, 0, 655381, 5, 0, 655382, 5, 0, 655383, 5, 0, 655384, 5, 0, 655385, 5, 0, 655386, 5, 0, 655387, 5, 0, 655388, 5, 0, 655389, 5, 0, 655390, 5, 0, 655391, 5, 0, 655392, 5, 0, 655393, 5, 0, 655394, 5, 0, 655395, 5, 0, 655396, 5, 0, 655397, 5, 0, 655398, 5, 0, 655399, 5, 0, 655400, 5, 0, 655401, 5, 0, 655402, 5, 0, 655403, 5, 0, 655404, 5, 0, 655405, 5, 0, 655406, 5, 0, 655407, 5, 0, 655408, 5, 0, 655409, 5, 0, 655410, 5, 0, 655411, 5, 0, 655412, 5, 0, 655413, 5, 0, 655414, 5, 0, 720896, 5, 0, 720897, 5, 0, 720898, 5, 0, 720899, 5, 0, 720900, 5, 0, 720901, 5, 0, 720902, 5, 0, 720903, 5, 0, 720904, 5, 0, 720905, 5, 0, 720906, 5, 0, 720907, 5, 0, 720908, 5, 0, 720909, 5, 0, 720910, 5, 0, 720911, 5, 0, 720912, 5, 0, 720913, 5, 0, 720914, 5, 0, 720915, 5, 0, 720916, 5, 0, 720917, 5, 0, 720918, 5, 0, 720919, 5, 0, 720920, 5, 0, 720921, 5, 0, 720922, 5, 0, 720923, 5, 0, 720924, 5, 0, 720925, 5, 0, 720926, 5, 0, 720927, 5, 0, 720928, 5, 0, 720929, 5, 0, 720930, 5, 0, 720931, 5, 0, 720932, 5, 0, 720933, 5, 0, 720934, 5, 0, 720935, 5, 0, 720936, 5, 0, 720937, 5, 0, 720938, 5, 0, 720939, 5, 0, 720940, 5, 0, 720941, 5, 0, 720942, 5, 0, 720943, 5, 0, 720944, 5, 0, 720945, 5, 0, 720946, 5, 0, 720947, 5, 0, 720948, 5, 0, 720949, 5, 0, 720950, 5, 0 )

[node name="WoodenPlatform" parent="." instance=ExtResource( 20 )]
show_collision = false
tile_data = PoolIntArray( 786437, 0, 0, 786438, 0, 1, 786439, 0, 1, 786440, 0, 1, 786441, 0, 1, 786442, 0, 2, 1048577, 0, 0, 1048578, 0, 1, 1048579, 0, 2, 1310732, 0, 0, 1310733, 0, 1, 1310734, 0, 1, 1310735, 0, 1, 1310736, 0, 2, 1507334, 0, 0, 1507335, 0, 1, 1507336, 0, 1, 1507337, 0, 1, 1507338, 0, 2, 1507347, 0, 0, 1507348, 0, 1, 1507349, 0, 1, 1507350, 0, 2, 1769496, 0, 3 )

[node name="MovingPlatform" parent="." instance=ExtResource( 22 )]
position = Vector2( -8, 99 )

[node name="MovingPlatform2" parent="." instance=ExtResource( 22 )]
position = Vector2( -10, 61 )

[node name="KinematicBody2D" parent="MovingPlatform2" index="0"]
position = Vector2( -69.2993, 18.8427 )

[node name="Path2D" parent="MovingPlatform2" index="1"]
position = Vector2( -1, 0 )
curve = SubResource( 1 )

[node name="PathFollow2D" parent="MovingPlatform2/Path2D" index="0"]
position = Vector2( -68.2993, 18.8427 )
offset = 214.7

[node name="AnimationPlayer" parent="MovingPlatform2" index="2"]
playback_speed = 0.4
anims/Fly = SubResource( 2 )
anims/RESET = SubResource( 3 )

[node name="Music" parent="." instance=ExtResource( 6 )]

[node name="Coins" type="Node2D" parent="."]

[node name="Coin" parent="Coins" instance=ExtResource( 3 )]
position = Vector2( 29, 115 )

[node name="Coin12" parent="Coins" instance=ExtResource( 3 )]
position = Vector2( 333, 84 )

[node name="Coin2" parent="Coins" instance=ExtResource( 3 )]
position = Vector2( 41, 115 )

[node name="Coin3" parent="Coins" instance=ExtResource( 3 )]
position = Vector2( 53, 115 )

[node name="Coin4" parent="Coins" instance=ExtResource( 3 )]
position = Vector2( 66, 115 )

[node name="Coin5" parent="Coins" instance=ExtResource( 3 )]
position = Vector2( 107, 41 )

[node name="Coin6" parent="Coins" instance=ExtResource( 3 )]
position = Vector2( 120, 41 )

[node name="Coin7" parent="Coins" instance=ExtResource( 3 )]
position = Vector2( 134, 41 )

[node name="Coin8" parent="Coins" instance=ExtResource( 3 )]
position = Vector2( 147, 41 )

[node name="Coin9" parent="Coins" instance=ExtResource( 3 )]
position = Vector2( 190, 50 )

[node name="Coin10" parent="Coins" instance=ExtResource( 3 )]
position = Vector2( 222, 69 )

[node name="Coin11" parent="Coins" instance=ExtResource( 3 )]
position = Vector2( 255, 69 )

[node name="HealthPoints" type="Node2D" parent="."]

[node name="Health_point" parent="HealthPoints" instance=ExtResource( 4 )]
position = Vector2( 229, 116 )

[node name="Health_point2" parent="HealthPoints" instance=ExtResource( 4 )]
position = Vector2( 261, 116 )

[node name="Health_point3" parent="HealthPoints" instance=ExtResource( 4 )]
position = Vector2( 245, 116 )

[node name="Health_point4" parent="HealthPoints" instance=ExtResource( 4 )]
position = Vector2( 216, 116 )

[node name="Health_point5" parent="HealthPoints" instance=ExtResource( 4 )]
position = Vector2( 199, 116 )

[node name="Traps" type="Node2D" parent="."]

[node name="spikes" parent="Traps" instance=ExtResource( 9 )]
position = Vector2( 107, 124 )

[node name="CollisionBoxes" type="Node2D" parent="."]

[node name="CollisionBox" parent="CollisionBoxes" instance=ExtResource( 11 )]
position = Vector2( 88, 41 )

[node name="CollisionBox2" parent="CollisionBoxes" instance=ExtResource( 11 )]
position = Vector2( 169, 41 )

[node name="CollisionBox3" parent="CollisionBoxes" instance=ExtResource( 11 )]
position = Vector2( 176, 120 )

[node name="CollisionBox5" parent="CollisionBoxes" instance=ExtResource( 11 )]
position = Vector2( 277, 69 )

[node name="CollisionBox4" parent="CollisionBoxes" instance=ExtResource( 11 )]
position = Vector2( 160, 73 )

[node name="Enemies" type="Node2D" parent="."]
position = Vector2( 0, 1 )
script = ExtResource( 13 )

[node name="Turret" parent="Enemies" instance=ExtResource( 21 )]
position = Vector2( 87, 119 )

[node name="Turret2" parent="Enemies" instance=ExtResource( 21 )]
position = Vector2( 263, 91 )
is_on_floor = false

[node name="Tractor" parent="Enemies" instance=ExtResource( 10 )]
position = Vector2( 133, 40 )

[node name="Tractor2" parent="Enemies" instance=ExtResource( 10 )]
position = Vector2( 335, 119 )

[node name="Tractor3" parent="Enemies" instance=ExtResource( 10 )]
position = Vector2( 221, 120 )

[node name="Dron" parent="Enemies" instance=ExtResource( 12 )]
position = Vector2( 240, 71 )

[node name="Effects" type="Node2D" parent="."]

[node name="Explosion" parent="Effects" instance=ExtResource( 14 )]
position = Vector2( 13, 1 )

[connection signal="coin_collected" from="Player" to="HUD" method="_on_Player_coin_collected"]
[connection signal="coin_collected" from="Player" to="Music" method="_on_Player_coin_collected"]
[connection signal="heal" from="Player" to="HUD" method="_on_Player_heal"]
[connection signal="heal" from="Player" to="Music" method="_on_Player_heal"]
[connection signal="take_damage" from="Player" to="HUD" method="_on_Player_take_damage"]

[editable path="MovingPlatform2"]
